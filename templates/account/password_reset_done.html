{% extends "account/auth_base.html" %}
{% load i18n %}
{% load account %}

{% block title %}{% trans "Password Reset Sent" %} - DOECE Alumni Portal{% endblock %}

{% block content %}
<div class="row g-0 justify-content-center">
    <!-- Password Reset Done Section -->
    <div class="col-lg-6 col-md-8">
        <div class="auth-section">
            <h2 class="section-title">
                <i class="fas fa-check-circle text-success me-2"></i>
                Email Sent Successfully
            </h2>
            <p class="section-subtitle">Check your inbox for password reset instructions</p>
            
            {% if user.is_authenticated %}
                {% include "account/snippets/already_logged_in.html" %}
            {% else %}
                <!-- Success Message -->
                <div class="alert alert-success" role="alert">
                    <i class="fas fa-envelope me-2"></i>
                    <strong>Password reset email sent!</strong><br>
                    We've sent you an email with instructions to reset your password.
                </div>
                
                <!-- Instructions -->
                <div class="card border-light mb-4">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-info-circle text-primary me-2"></i>
                            What to do next:
                        </h5>
                        <ol class="card-text mb-0">
                            <li class="mb-2">Check your email inbox (and spam folder)</li>
                            <li class="mb-2">Click the reset link in the email</li>
                            <li class="mb-2">Create a new password</li>
                            <li>Sign in with your new password</li>
                        </ol>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="text-center">
                    <a href="{% url 'account_login' %}" class="btn btn-outline-primary me-2">
                        <i class="fas fa-sign-in-alt me-2"></i>
                        {% trans "Back to Sign In" %}
                    </a>
                    <a href="{% url 'account_reset_password' %}" class="btn btn-outline-secondary">
                        <i class="fas fa-redo me-2"></i>
                        {% trans "Resend Email" %}
                    </a>
                </div>
                
                <!-- Support Information -->
                <div class="text-center mt-4 pt-3 border-top">
                    <small class="text-muted">
                        <i class="fas fa-question-circle me-1"></i>
                        Didn't receive the email? Check your spam folder or contact us at
                        <a href="mailto:doece.alumni@pcampus.edu.np" class="text-link">doece.alumni@pcampus.edu.np</a>
                    </small>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<style>
    /* Custom styles for password reset done */
    .btn-outline-primary {
        border: 2px solid var(--secondary-color);
        color: var(--secondary-color);
        padding: 0.75rem 2rem;
        border-radius: 12px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
    }
    
    .btn-outline-primary:hover {
        background: var(--secondary-color);
        border-color: var(--secondary-color);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        text-decoration: none;
    }
    
    .btn-outline-secondary {
        border: 2px solid var(--text-light);
        color: var(--text-light);
        padding: 0.75rem 2rem;
        border-radius: 12px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
    }
    
    .btn-outline-secondary:hover {
        background: var(--text-light);
        border-color: var(--text-light);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(107, 114, 128, 0.3);
        text-decoration: none;
    }
    
    .card {
        border-radius: 15px;
        box-shadow: var(--shadow-light);
        transition: all 0.3s ease;
    }
    
    .card:hover {
        box-shadow: var(--shadow-medium);
        transform: translateY(-2px);
    }
    
    .card-body {
        padding: 1.5rem;
    }
    
    .card-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1rem;
    }
    
    .card-text ol {
        padding-left: 1.2rem;
    }
    
    .card-text li {
        color: var(--text-dark);
        font-size: 0.95rem;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add some nice animations
        const section = document.querySelector('.auth-section');
        if (section) {
            section.style.animation = 'fadeInUp 0.8s ease-out';
        }
        
        // Auto-redirect to login after 30 seconds (optional)
        setTimeout(function() {
            const loginButton = document.querySelector('a[href*="account_login"]');
            if (loginButton) {
                loginButton.style.animation = 'pulse 1s ease-in-out infinite';
            }
        }, 30000);
    });
</script>
{% endblock %}
